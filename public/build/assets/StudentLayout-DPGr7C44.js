import{r as l,J as u,j as e,S as f,x as g,t as p}from"./app-CEKwIvuo.js";import{a as b}from"./axiosInstance-CpK50YgK.js";import{L as x}from"./log-out-BKbNxByv.js";import{L as j}from"./layout-dashboard-C7lR7pGm.js";import{B as y}from"./book-open-CBMK0uVf.js";import{C as N}from"./calendar-check-BUMr4A8T.js";import{c as v}from"./createLucideIcon-Bjxz-2FJ.js";import{U as h}from"./user-Dye2o9pv.js";import{M as S}from"./menu-ClYTqC9x.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],C=v("file-search",w),m=l.createContext(),k=({children:a})=>{const{student:t}=u().props||{},[n,r]=l.useState(t||null),[i,s]=l.useState(!t);return l.useEffect(()=>{if(!(t!=null&&t.id)){s(!1);return}(async()=>{var c;s(!0);try{const d=await b.get(`/student/${t.id}/details`);r(d.data)}catch(d){console.error("Failed to fetch student details",d),((c=d.response)==null?void 0:c.status)===401&&f.visit("/student/login")}finally{s(!1)}})()},[t==null?void 0:t.id]),e.jsx(m.Provider,{value:{student:n||{},setStudent:r,loading:i},children:a})},q=()=>l.useContext(m);function L({isOpen:a,closeSidebar:t}){const{url:n}=u(),{post:r}=g(),i=[{icon:j,label:"Dashboard",href:"/student/dashboard"},{icon:y,label:"My Courses",href:"/student/mycourses"},{icon:N,label:"Attendance",href:"/student/attendance"},{icon:C,label:"Admit Card",href:"/student/admitCard"},{icon:h,label:"Profile",href:"/student/profile"}],s=()=>{r(route("student.logout"))};return e.jsxs("aside",{className:`fixed top-0 left-0 z-30 h-screen w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsx("span",{className:"text-xl font-bold text-indigo-600",children:"Student Panel"}),e.jsx("button",{className:"lg:hidden text-gray-600 hover:text-gray-800",onClick:t,children:e.jsx(x,{className:"h-6 w-6"})})]}),e.jsxs("nav",{className:"p-4",children:[i.map(o=>{const c=n.startsWith(o.href);return e.jsxs(p,{href:o.href,className:`flex items-center space-x-3 px-4 py-2 rounded-lg mb-2 transition-colors duration-200 ${c?"bg-indigo-500 text-white":"text-gray-600 hover:bg-gray-100"}`,onClick:t,children:[e.jsx(o.icon,{className:"h-5 w-5"}),e.jsx("span",{children:o.label})]},o.label)}),e.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-6 transition-colors duration-200",children:[e.jsx(x,{className:"h-5 w-5"}),e.jsx("span",{children:"Logout"})]})]})]})}function M({toggleSidebar:a,student:t}){return e.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white shadow-sm flex items-center justify-between px-6 z-10 lg:ml-64",children:[e.jsx("button",{className:"lg:hidden text-gray-600 hover:text-gray-800",onClick:a,children:e.jsx(S,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(h,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("span",{className:"font-medium text-gray-700",children:(t==null?void 0:t.name)||"Student"})]})})]})}function B({children:a,student:t}){const[n,r]=l.useState(!1),i=()=>r(!n),s=()=>r(!1);return e.jsx(k,{children:e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:s}),e.jsx(L,{isOpen:n,closeSidebar:s}),e.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[e.jsx(M,{toggleSidebar:i,student:t}),e.jsx("main",{className:"mt-20 p-6",children:a})]})]})})}export{B as S,q as u};
