import{r as l,j as e}from"./app-Wa6lWOWG.js";import{A as w}from"./AdminLayout-YyFShQkb.js";import{V as o}from"./index-FiFwkoWx.js";import{P as k}from"./plus-CD3ODjQu.js";import{P as v}from"./pencil-BoOtjXia.js";import{T as C}from"./trash-DlPpJoje.js";import"./adminContext-B60SD0yp.js";import"./axiosInstance-s0tKBack.js";import"./menu-BHFqgBA3.js";import"./createLucideIcon-B9bo5B-_.js";import"./search-CzDEQAMp.js";import"./bell-ltEBjq8P.js";import"./user-Cl31KUXQ.js";import"./x-B9DMul12.js";import"./house-BKnVdLgc.js";import"./users-DgKBGHnW.js";import"./settings-CqOTu34U.js";import"./log-out-CShTseuz.js";function S(){const[r,n]=l.useState([]),[a,c]=l.useState({title:"",message:""}),[i,m]=l.useState(null),[g,d]=l.useState(!1),[h,b]=l.useState(""),u=t=>c({...a,[t.target.name]:t.target.value}),x=()=>{c({title:"",message:""}),m(null)},f=t=>{if(t.preventDefault(),!a.title.trim()||!a.message.trim()){o.error("Title and Message are required.");return}if(i!==null){const s=[...r];s[i]=a,n(s),o.success("Notice updated")}else n([...r,a]),o.success("Notice added");x(),d(!1)},N=t=>{c(r[t]),m(t),d(!0)},j=t=>{if(window.confirm("Are you sure to delete this notice?")){const s=r.filter((A,y)=>y!==t);n(s),o.success("Notice deleted")}},p=r.filter(t=>t.title.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Notice Board"}),e.jsxs("button",{onClick:()=>{x(),d(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Add Notice"]})]}),e.jsx("input",{type:"text",placeholder:"Search notice by title",value:h,onChange:t=>b(t.target.value),className:"mb-4 px-4 py-2 border rounded w-full md:w-1/3 dark:bg-gray-800 dark:text-white"}),e.jsx("div",{className:"overflow-x-auto rounded-lg shadow bg-white dark:bg-gray-800",children:e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-900 dark:text-white",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-xs uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Title"}),e.jsx("th",{className:"px-4 py-2",children:"Message"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:p.length>0?p.map((t,s)=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-4 py-2",children:t.title}),e.jsx("td",{className:"px-4 py-2",children:t.message}),e.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[e.jsxs("button",{onClick:()=>N(s),className:"text-yellow-600 hover:underline",children:[e.jsx(v,{className:"w-4 h-4 inline"})," ","Edit"]}),e.jsxs("button",{onClick:()=>j(s),className:"text-red-600 hover:underline",children:[e.jsx(C,{className:"w-4 h-4 inline"})," ","Delete"]})]})]},s)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-4 py-4 text-center text-gray-500 dark:text-gray-400",children:"No notices found."})})})]})}),e.jsxs("div",{className:`fixed top-0 right-0 w-full sm:w-[400px] h-full bg-white dark:bg-gray-900 z-50 shadow-lg transform transition-transform duration-300 ${g?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold",children:i!==null?"Edit Notice":"Add Notice"}),e.jsx("button",{onClick:()=>{d(!1),x()},className:"text-gray-600 dark:text-gray-300 hover:text-red-600",children:"âœ•"})]}),e.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:u,required:!0,className:"w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Message"}),e.jsx("textarea",{name:"message",value:a.message,onChange:u,rows:4,required:!0,className:"w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white"})]}),e.jsx("button",{type:"submit",className:"bg-indigo-600 text-white w-full py-2 rounded hover:bg-indigo-700",children:i!==null?"Update Notice":"Create Notice"})]})]})]})}S.layout=r=>e.jsx(w,{children:r});export{S as default};
